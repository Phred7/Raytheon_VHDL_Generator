# Raytheon_VHDL_Generator: Improving Cyber Survivability with Real-Time Hardware Diversification
## Project Overview
- Key Research Aims
  1. Implement a soft processor testbed on FPGA with ability to operate with functionally equivalent, heterogeneous processors under basic software operations.
  2. Investigate software toolchain capability to support compile-time hardware diversification.
  3. Investigate survivability of system under a buffer insertion attack.
- Technical Approach
  - Three functionally equivalent cores with randomized instruction sets are implemented on an FPGA.
  - A voting system monitors the core outputs and produces the correct system result while monitoring for unexpected code execution that would indicate an attack.
  - A SW tool chain creates the core hardware at compile-time.
- Project Benefits
  - A hardware monoculture gives attackers an advantage because a single attack has impact across all platforms using the same architecture.
  - Hardware diversity reduces the attacker's advantage because their attack only impacts the targeted system while different architectures continue to operate.
  - Modern programmable hardware fabrics enable real-time hardware diversification.

[comment]: <> (- What it actually does: )
[comment]: <> (- Generates 3 unique vhdl rom memory files from a c or ASM's binary for 3 unique MSP430's simulated on 3 FPGA's)
## Workflow
[comment]: <> (- insert diagram/visual)
 1. In Code Composer Studio (CCS) create a project in C or Assembly (ASM)
 2. Attach the MSP430FR2355
 3. Debug the program in CCS
 4. Stop the debugger
 5. Run ccs_disassembler.py. The following steps are automated.
    1. Locate the .out file generated on debug by the MSP430: <project directory>\Debug\<project_name>.out
       - This is the binary for the MSP430
    2. Locate the dis430.exe: C:\ti\ccs1040\ccs\tools\compiler\ti-cgt-msp430_20.2.5.LTS\bin (default)
    3. Execute the command dis430.exe <input_file_name>.txt <output_file_name>.txt
       - This command generates a new text file with the name specified by <output_file_name>
       - This file contains the ASM for the MSP430 for the program debugged in CCS
 6. Run vhdl_memory_parser.py. The following steps are automated.
    1. Remove files from the last run.
    2. Generate vhdl packages uniquely for each computer
       - Includes imports and constants depending on computer name
    3. Generate vhdl memory uniquely for each computer
       - Includes imports, packages and libraries
       - Includes a generated entity
       - Includes a generated architecture
         - ROM memory
           - Program Memory (transpiled from CCS binary and modified for each computer)
           - IRQ vectors (Interrupts)
         - EN process
         - Memory ROM Process
 7. Take generated vhdl files and implement them each on an FPGA
    - This effectively simulates 3 MSP430's with unique and randomized instruction sets

### ccs_disassembler.py
- Gets a binary generated by CCS
- Runs pique_bin to check for threats inserted in the binary
- Implements dis430.exe (provided by CCS) to generate a asm file based on the binary
### vhdl_memory_parser.py
- Gets the asm file generated by ccs_disasembler.py
- Generates 3 unique rom_memory files in vhdl that contain the program memory specifed by the asm file
- Each MSP430 implements an opcode unique to itself for each mnemonic
### Challenges
### Future features
## Environments
### Pycharm
### Code Composer Studio (CCS)
## Dependencies
- pique_bin
## Helpful Links
## Credits
- For Raytheon
- Montana State University Software Engineering Lab ([MSU SEL](https://github.com/MSUSEL))
- [Dr. Clem Izurieta](https://www.cs.montana.edu/directory/1524206/clemente-izurieta)
- [Dr. Brock LaMeres](https://www.montana.edu/blameres/)
- Written by [Blake Stanger](https://github.com/blakestanger) and [Walker Ward](https://github.com/Phred7)
